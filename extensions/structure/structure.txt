ğŸ¯ Resumen Ejecutivo
ğŸ“ UbicaciÃ³n: h:/smart_seo_schema/
ğŸ—‚ï¸ Archivos: 5 archivos principales en 4 carpetas
ğŸ”§ Funciones: Schema.org JSON-LD automÃ¡tico para productos

ğŸ“Š Arquitectura Funcional
ğŸ—ï¸ Estructura Modular:

ROOT - ConfiguraciÃ³n y entrada (2 archivos)
CORE - LÃ³gica principal (1 archivo, 1 clase)
ADMIN - Interface administrativo (1 archivo idioma)
STOREFRONT - Salida frontend (1 template)

ğŸ”„ Flujo de Datos:

main.php â†’ Carga la extensiÃ³n
config.xml â†’ Define configuraciones
smart_seo_schema.php â†’ Procesa datos y genera JSON-LD
product.post.tpl â†’ Renderiza schema invisible
smart_seo_schema.xml â†’ Traduce interface admin


ğŸª Capacidades Actuales
âœ… Totalmente Funcional:

Schema.org Product completo
11 configuraciones administrables
Hook automÃ¡tico en pÃ¡ginas de producto
JSON-LD vÃ¡lido invisible al usuario
Mapeo inteligente de disponibilidad
Soporte multimoneda automÃ¡tico

ğŸ”§ Datos Procesados:

InformaciÃ³n bÃ¡sica (nombre, descripciÃ³n, SKU, modelo)
Precios (base, final, con descuentos)
ImÃ¡genes principales
Valoraciones agregadas
Estado de stock dinÃ¡mico
Marca/fabricante

# ğŸ¯ Smart SEO Schema - Estructura Completa

## ğŸ“ **UbicaciÃ³n Base**
```
h:/smart_seo_schema/
```

## ğŸ—‚ï¸ **Estructura de Archivos y Funciones**

### **ğŸ“ ROOT**

#### **ğŸ“„ main.php**
- **ğŸ“ UbicaciÃ³n:** `h:/smart_seo_schema/main.php`
- **ğŸ¯ PropÃ³sito:** Punto de entrada y cargador de configuraciÃ³n
- **ğŸ”§ Funciones:**
  - Incluir clase principal del core
  - Definir arrays de controladores, modelos, templates y idiomas
  - Establecer metadatos de la extensiÃ³n
- **ğŸ”„ Cambios Clave:**
  - `include_once('core/smart_seo_schema.php')`
  - Referencia a clase `ExtensionSmartSeoSchema`

#### **ğŸ“„ config.xml**
- **ğŸ“ UbicaciÃ³n:** `h:/smart_seo_schema/config.xml`
- **ğŸ¯ PropÃ³sito:** ConfiguraciÃ³n de extensiÃ³n y definiciÃ³n de ajustes
- **ğŸ”§ Funciones:**
  - Definir ID de extensiÃ³n como 'smart_seo_schema'
  - Establecer versiÃ³n, tipo, categorÃ­a
  - Configurar todos los ajustes con prefijo smart_seo_schema_
- **âš™ï¸ Configuraciones:**
  - `smart_seo_schema_status`
  - `smart_seo_schema_show_image`
  - `smart_seo_schema_show_review`
  - `smart_seo_schema_show_sku`
  - `smart_seo_schema_show_offer`
  - `smart_seo_schema_show_availability`
  - `smart_seo_schema_description`

---

### **ğŸ“ CORE**

#### **ğŸ“„ smart_seo_schema.php**
- **ğŸ“ UbicaciÃ³n:** `h:/smart_seo_schema/core/smart_seo_schema.php`
- **ğŸ¯ PropÃ³sito:** LÃ³gica principal de extensiÃ³n y generaciÃ³n Schema.org
- **ğŸ·ï¸ Clase Principal:** `ExtensionSmartSeoSchema`
- **ğŸ”§ Funciones Principales:**
  - `onControllerPagesProductProduct_UpdateData()` - Hook principal
  - Generar markup JSON-LD Schema.org
  - Procesar datos de producto
  - Manejar precios y disponibilidad
  - Gestionar imÃ¡genes y reseÃ±as de producto
- **ğŸª Hooks AbanteCart:**
  - Hook de actualizaciÃ³n de datos de pÃ¡gina de producto
- **ğŸ“Š Datos Procesados:**
  - InformaciÃ³n bÃ¡sica del producto (nombre, descripciÃ³n, SKU, modelo)
  - Datos de fabricante/marca
  - InformaciÃ³n de precios (precio base, precio final, descuentos)
  - Estado de stock y disponibilidad
  - ImÃ¡genes del producto
  - Valoraciones y reseÃ±as agregadas

---

### **ğŸ“ ADMIN**

#### **ğŸ“„ language/english/smart_seo_schema/smart_seo_schema.xml**
- **ğŸ“ UbicaciÃ³n:** `h:/smart_seo_schema/admin/language/english/smart_seo_schema/smart_seo_schema.xml`
- **ğŸ¯ PropÃ³sito:** Definiciones de idioma para interfaz de administraciÃ³n
- **ğŸ”§ Funciones:**
  - Definir todas las etiquetas y textos de ayuda del admin
  - Proporcionar descripciones de configuraciÃ³n
  - Establecer nombre de visualizaciÃ³n de la extensiÃ³n
- **ğŸŒ Keys de Idioma (11 claves):**
  - `smart_seo_schema_name` - "Smart SEO Schema Assistant"
  - `smart_seo_schema_status` - "Status"
  - `smart_seo_schema_show_image` - "Show product image"
  - `smart_seo_schema_show_review` - "Show product review"
  - `smart_seo_schema_show_sku` - "Show product SKU"
  - `smart_seo_schema_show_offer` - "Show product price"
  - `smart_seo_schema_show_availability` - "Show product stock"
  - `smart_seo_schema_note` - "Testing and validation info"
  - `smart_seo_schema_description_auto` - "Auto"
  - `smart_seo_schema_description_blurb` - "Blurb"
  - `smart_seo_schema_description_description` - "Description"

---

### **ğŸ“ STOREFRONT**

#### **ğŸ“„ view/default/template/pages/product/product.post.tpl**
- **ğŸ“ UbicaciÃ³n:** `h:/smart_seo_schema/storefront/view/default/template/pages/product/product.post.tpl`
- **ğŸ¯ PropÃ³sito:** Template de salida JSON-LD para frontend
- **ğŸ”§ Funciones:**
  - Generar etiqueta script JSON-LD
  - Inyectar variable smart_seo_schema_data
  - Renderizar markup Schema.org invisible para usuarios
- **ğŸ“ Variables Template:**
  - `$smart_seo_schema_data` - Contiene el JSON-LD generado
- **ğŸ¨ Salida HTML:**
  ```html
  <script type="application/ld+json">
  <?php echo $smart_seo_schema_data; ?>
  </script>
  ```

---

## ğŸ”§ **Funcionalidades TÃ©cnicas**

### **ğŸ¯ Schema.org Generado**
- **Tipo Principal:** `Product`
- **Propiedades Incluidas:**
  - `@context`: "http://schema.org/"
  - `@type`: "Product"
  - `name`: Nombre del producto
  - `description`: DescripciÃ³n procesada
  - `image`: URL de imagen principal
  - `mpn`: NÃºmero de modelo/parte
  - `brand`: Marca/fabricante
  - `sku`: CÃ³digo SKU
  - `offers`: Objeto Offer con precio y disponibilidad
  - `aggregateRating`: Valoraciones agregadas

### **ğŸ”„ Flujo de Procesamiento**
1. **Hook Trigger:** PÃ¡gina de producto carga
2. **Data Collection:** Recopilar informaciÃ³n del producto
3. **Schema Generation:** Generar estructura JSON-LD
4. **Template Injection:** Inyectar en template de producto
5. **Frontend Output:** Renderizar script invisible

### **âš™ï¸ Configuraciones Disponibles**
- **Status:** Habilitar/deshabilitar extensiÃ³n
- **Image:** Mostrar imagen en schema
- **Review:** Incluir valoraciones en schema
- **SKU:** Mostrar cÃ³digo SKU
- **Offer:** Incluir informaciÃ³n de precio
- **Availability:** Mostrar estado de stock
- **Description:** Seleccionar fuente de descripciÃ³n (auto/blurb/description)

### **ğŸ¨ Mapeo de Disponibilidad**
- "in stock" â†’ `https://schema.org/InStock`
- "out of stock" â†’ `https://schema.org/OutOfStock`
- "limited" â†’ `https://schema.org/LimitedAvailability`
- "pre-order" â†’ `https://schema.org/PreOrder`

---

## ğŸš€ **Estado Actual vs. Objetivo Futuro**

### **âœ… Estado Actual (Funcional)**
- Schema.org bÃ¡sico Product implementado
- ConfiguraciÃ³n por admin panel
- IntegraciÃ³n con datos de AbanteCart
- Salida JSON-LD correcta

### **ğŸ¯ PrÃ³ximas Mejoras Planificadas**
- Sistema de variantes con `hasVariant[]`
- Asistente IA integrado
- Esquemas adicionales (FAQ, HowTo, Review)
- Interfaz de administraciÃ³n avanzada
- Base de datos para variantes personalizadas

---

## ğŸ” **Puntos de IntegraciÃ³n**

### **ğŸª Hooks Utilizados**
- `onControllerPagesProductProduct_UpdateData()` - Procesamiento de datos de producto

### **ğŸ“Š Datos AbanteCart Accedidos**
- `$that->data['product_info']` - InformaciÃ³n bÃ¡sica del producto
- `$that->data['image_main']` - Imagen principal
- `$that->data['average']` - ValoraciÃ³n promedio
- `$that->data['stock']` - Estado de stock
- `$that->currency->getCode()` - CÃ³digo de moneda

### **ğŸ¨ Templates Modificados**
- `pages/product/product.post.tpl` - InyecciÃ³n de JSON-LD